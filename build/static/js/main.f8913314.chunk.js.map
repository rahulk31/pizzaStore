{"version":3,"sources":["Pages/CartContext.js","Components/Navigation.js","Components/Product.js","Components/Products.js","Pages/Home.js","Pages/ProductsPage.js","Pages/SingleProduct.js","Pages/Cart.js","App.js","index.js"],"names":["CartContext","createContext","Navigation","cart","useContext","className","to","style","height","src","alt","background","display","padding","borderRadius","totalItems","Product","props","useState","isAdding","setIsAdding","setCart","product","_id","image","name","size","price","disabled","onClick","e","event","preventDefault","_cart","items","setTimeout","addToCart","Products","products","setProducts","useEffect","fetch","then","response","json","map","Home","ProductsPage","SingleProduct","setProduct","params","useParams","history","useHistory","res","goBack","Cart","total","priceFetched","togglePriceFetched","method","headers","body","JSON","stringify","ids","Object","keys","getQty","productId","getSum","sum","length","existingQty","decrement","increment","qty","filter","handleDelete","window","alert","App","localStorage","getItem","parse","setItem","Provider","value","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f8913314.chunk.js","sourcesContent":["import { createContext } from 'react';\n\n\nexport const CartContext = createContext(null);","import { Link } from 'react-router-dom';\nimport { useContext } from 'react';\nimport { CartContext } from '../Pages/CartContext';\n\nconst Navigation = () => {\n    const stylingcart = {\n        background : '#F59E0D',\n        display: 'flex',\n        padding: '6px 12px',\n        borderRadius: '50px',\n\n    } \n\n    const { cart } = useContext(CartContext);\n\n    return (\n        <>\n            <nav className=\"container mx-auto flex items-center justify-between py-8\">\n                <Link to='/'>\n                    <img style={{ height: 45}} src=\"/images/logo.png\" alt=\"logo\" />\n                </Link>\n\n                <ul className=\"flex items-center\">\n                    <li>\n                        <Link to='/'>HOME</Link>\n                    </li>\n                    <li className='ml-6'>\n                        <Link to='/products'>PRODUCTS</Link>\n                    </li>\n                    <li className='ml-6'>\n                        <Link to='/cart'>\n                            <div style={stylingcart}>\n                                <span>{ cart.totalItems ? cart.totalItems : 0 }</span>\n                                <img className='ml-2' src=\"/images/cart.png\" alt=\"cart\" />\n                            </div>\n                        </Link>\n                    </li>\n                </ul>\n\n                \n            </nav>\n        </>\n    )\n}\n\nexport default Navigation;","import { Link } from \"react-router-dom\";\nimport { useState, useContext } from \"react\";\nimport { CartContext } from \"../Pages/CartContext\";\n\nconst Product = (props) => {\n    const [ isAdding, setIsAdding ] = useState(false);\n    const { cart, setCart } = useContext(CartContext);\n    const { product } = props;\n\n    const addToCart = (event, product) => {\n        event.preventDefault();\n        let _cart = { ...cart };\n        if(!_cart.items) {\n            _cart.items = {}\n        }\n\n        if(_cart.items[product._id]) {\n            _cart.items[product._id] +=  1;\n        } else {\n            _cart.items[product._id] = 1;\n        }\n\n        if(!_cart.totalItems) {\n            _cart.totalItems = 0;\n        }\n\n        _cart.totalItems += 1;\n        setCart(_cart);\n        setIsAdding(true);\n        setTimeout(() => {\n            setIsAdding(false);\n        }, 1000);\n        \n    }\n\n    return (\n        <Link to={`/products/${product._id}`}>\n            <div>\n            <img src={ product.image } alt=\"pizza\" />\n            <div className=\"text-center\">\n                <h2 className=\"text-lg font-bold py-2\">{ product.name }</h2>\n                <span className=\"bg-gray-200 py-1 rounded-full text-sm px-4\">{ product.size }</span>\n            </div>\n            <div className=\"flex flex-wrap justify-between items-center mt-4\">\n                <span>â‚¹ { product.price }</span>\n                <button disabled={ isAdding } onClick={ (e) => { addToCart(e, product) } } className={`${isAdding ? 'bg-green-500' : 'bg-yellow-500'} py-1 px-4 rounded-full font-bold`}>Add{isAdding ? 'ed' : ''}</button>\n            </div>\n        </div>\n        \n        </Link>\n    )\n}\n\nexport default Product\n","import Product from \"./Product\";\nimport { useState, useEffect, useContext } from \"react\";\nimport { CartContext } from \"../Pages/CartContext\";\n\n\nconst Products = () => {\n\n    // const { name } = useContext(CartContext);\n\n    const [products, setProducts] = useState([]);\n    useEffect(() => {\n         fetch('/api/products')\n            .then(response => response.json())\n                .then(products => {\n                    setProducts(products);\n                });\n    }, []);\n\n    return (\n        <div className=\"container mx-auto pb-24\">\n            <h1 className=\"text-lg font-bold my-8\">Products</h1>\n            <div className=\"grid grid-cols-5 my-8 gap-24\">\n\n                {\n                    products.map(product => <Product key={ product._id } product={ product }/>)\n                }\n                \n                \n            </div>\n\n        </div>\n\n    )\n}\n\nexport default Products;","import Products from '../Components/Products'\nconst Home = () => {\n    return (\n         <>\n            <div className=\"hero py-2\">\n             <div className=\"container mx-auto flex flex-wrap items-center content-evenly\">\n                <div className=\"w-1/2\">\n                    <h6 className=\"text-lg\"><em>Are you hungry?</em></h6>\n                    <h1 className=\"text-3xl md: text-6xl font-bold\">DON'T WAIT !</h1>\n                    <button className=\"px-6 py-2 rounded-full text-white font-bold mt-4 bg-yellow-500 hover:bg-yellow-600\">Order Now</button>\n                </div>\n                <div className=\"w-1/2\">\n                    <img className=\"w-4/5\" src=\"/images/pizza.png\" alt=\"pizza\" />\n                </div>\n                </div>\n            </div>\n\n            <div className=\"pb-24\">\n                <Products />\n            </div>\n\n         </>\n    )\n}\n\nexport default Home;","import Products from '../Components/Products';\n\nconst ProductsPage = () => {\n    return(\n        <div>\n            <Products />\n        </div>\n    )\n}\n\nexport default ProductsPage;","import { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router\";\n\n \n const SingleProduct = () => {\n\n    const [ product, setProduct ] = useState([]);\n    const params = useParams();\n    const history = useHistory();\n\n    useEffect(() => {\n        fetch(`/api/products/${params._id}`)\n            .then(res => res.json())\n                .then(product => {\n                    setProduct(product);\n                })\n    }, [params._id]);\n     return (\n         <div className=\"container mx-auto mt-12\">\n             <button className=\"mb-12 font-bold\" onClick={ () => { history.goBack() } }>Back</button>\n             <div className=\"flex\">\n                 <img src={ product.image } alt={ product.name } />\n                 <div className=\"ml-16\">\n                     <h1 className=\"text-xl font-bold\">{ product.name }</h1>\n                     <div className=\"text-md\">{ product.size }</div>\n                     <div className=\"font-bold mt-2\">â‚¹ { product.price }</div>\n                     <button className=\"bg-yellow-500 py-1 px-8 rounded-full font-bold mt-4\">Add to cart</button>\n                 </div>\n\n             </div>\n         </div>\n     )\n }\n \n export default SingleProduct\n ","import { getSuggestedQuery } from \"@testing-library/dom\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { CartContext } from \"../Pages/CartContext\";\n\nconst Cart = () => {\n    let total = 0;\n    const [ products, setProducts ] = useState([]);\n    const { cart, setCart } = useContext(CartContext);\n\n    const [ priceFetched, togglePriceFetched ] = useState(false);\n    \n    useEffect(() => {\n        if(!cart.items) {\n            return;\n        }\n        if(priceFetched) {\n            return;\n        }\n        fetch('/api/products/cart-items', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ ids: Object.keys(cart.items)})\n        }).then(res => res.json())\n        .then(products => {\n            setProducts(products);\n            togglePriceFetched(true);\n        })\n    }, [cart])\n\n    const getQty = (productId) => {\n        return cart.items[productId];\n    }\n\n    const increment = (productId) => {\n        const existingQty = cart.items[productId];\n        const _cart ={ ...cart};\n        _cart.items[productId] = existingQty + 1;\n        _cart.totalItems += 1;\n        setCart(_cart);\n\n    }\n\n    const decrement = (productId) => {\n        const existingQty = cart.items[productId];\n        if(existingQty === 1) return;\n        const _cart ={ ...cart};\n        _cart.items[productId] = existingQty - 1;\n        _cart.totalItems -= 1;\n        setCart(_cart);\n    }\n\n    const getSum = (productId, price) => {\n        const sum = price * getQty(productId);\n        total += sum;\n        return sum;\n    }\n\n    const handleDelete = (productId) => {\n        const _cart = {...cart};\n        const qty = _cart.items[productId];\n        delete _cart.items[productId];\n        _cart.totalItems -= qty;\n        setCart(_cart);\n        setProducts(products.filter((product) => product._id !== productId))\n    }\n\n    const handleOrderNow = () => {\n        window.alert('Order has been placed successfully!');\n        setProducts([]);\n        setCart({});\n    }\n\n    return(\n        products.length ?\n        <div className=\"container mx-auto lg:w-1/2 w-full pb-24\">\n            <h1 className=\"my-12 font-bold\">Cart Items</h1>\n            <ul>\n                {\n                    products.map(product => {\n                        return (\n                            <li className=\"mb-12\" key={ product._id }>\n                    <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                            <img className=\"h-16\" src={ product.image } alt=\"\" />\n                            <span className=\"font-bold ml-4 w-48\"> { product.name }</span>\n                        </div>\n                        <div>\n                            <button onClick={() => { decrement(product._id)}} className=\"bg-yellow-500 px-4 py-2 rounded-full leading-none\">-</button>\n                            <b className=\"px-4\">{ getQty(product._id) }</b>\n                            <button onClick={() => { increment(product._id)}} className=\"bg-yellow-500 px-4 py-2 rounded-full leading-none\">+</button>\n                        </div>\n                        <span>{ getSum(product._id, product.price) }</span>\n                        <button onClick={() => { handleDelete(product._id) } } className=\"bg-red-500 px-4 py-2 rounded-full leading-none text-white\">Delete</button>\n                    </div>\n                </li>\n                        )\n                    })\n                }\n                \n            </ul>\n            <hr className=\"my-6\"/>\n            <div className=\"text-right\">\n                Grand Total: {total}\n            </div>\n            <div className=\"text-right mt-6\">\n                <button onClick={ handleOrderNow } className=\"text-right bg-yellow-500 px-4 py-2 rounded-full leading-none\">Order Now</button>\n            </div>\n        </div>\n        :\n        <img className=\"mx-auto w-1/3 mt-12\" src=\"/images/empty-cart.png\" alt=\"empty-cart\" />\n    )\n}\n\nexport default Cart;","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Navigation from './Components/Navigation';\nimport Home from './Pages/Home';\nimport ProductsPage from './Pages/ProductsPage';\nimport SingleProduct from './Pages/SingleProduct';\nimport Cart from './Pages/Cart';\nimport { CartContext } from './Pages/CartContext';\n\nconst App = () => {\n    const [ cart, setCart ] = useState({});\n\n    // Fetch cart from local storage \n    useEffect(() => {\n        const cart = window.localStorage.getItem('cart');\n        setCart(JSON.parse(cart));\n\n    }, []);\n\n    useEffect(() => {\n        window.localStorage.setItem('cart', JSON.stringify(cart));\n    }, [cart])\n \n    return (\n        <>\n            <Router>\n                <CartContext.Provider value={{ cart, setCart }}>\n                    <Navigation />\n                    <Switch>\n                        <Route path='/' component={Home} exact></Route>\n                        <Route path='/products' component={ProductsPage} exact></Route>\n                        <Route path='/products/:_id' component={SingleProduct} exact></Route>\n                        <Route path='/cart' component={Cart} exact></Route>\n                    </Switch>\n                </CartContext.Provider>\n            </Router>\n        </>\n    )\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)"],"sourceRoot":""}